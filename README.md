# 💰 我的记账本 (myAccount)

一个简洁大方的个人记账应用程序，使用 Streamlit 开发，数据持久化存储在 Excel 文件中。

## ✨ 功能特点

- 📝 **简单记账** - 支持收入和支出记录
- 📊 **数据统计** - 收支趋势分析和分类统计
- 📋 **记录管理** - 查看、筛选、删除记录
- 📈 **可视化图表** - 直观的图表展示
- 💾 **数据导出** - 支持 CSV 格式导出
- 🎨 **简洁界面** - 现代化、响应式设计
- 📱 **微信适配** - 自动检测微信浏览器并提示用户切换到外部浏览器

## 🚀 快速开始

### 环境要求

- Python 3.8+
- 推荐使用虚拟环境

### 安装步骤

1. **克隆或下载项目**
   ```bash
   cd E:\myAiProgramer\myAccount
   ```

2. **创建虚拟环境**（推荐）
   ```bash
   python -m venv venv
   
   # Windows 激活
   venv\Scripts\activate
   
   # Linux/Mac 激活
   source venv/bin/activate
   ```

3. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

4. **运行应用**
   ```bash
   streamlit run app.py
   ```

5. **打开浏览器**
   - 应用会自动在浏览器中打开
   - 默认地址：http://localhost:8501

## 📁 项目结构

```
myAccount/
├── app.py                 # 主应用程序
├── requirements.txt       # 依赖包列表
├── README.md             # 项目说明
├── data/                 # 数据存储目录
│   └── account_records.xlsx  # Excel数据文件
└── src/                  # 源代码目录
    ├── __init__.py
    └── data_manager.py   # 数据管理模块
```

## 🎯 使用指南

### 1. 添加记录
- 选择记录类型（收入/支出）
- 输入金额和选择分类
- 设置日期时间和添加备注
- 点击保存记录

### 2. 查看统计
- 选择时间范围
- 查看收支统计和结余
- 浏览趋势图和分类分布图

### 3. 管理记录
- 按类型、分类筛选记录
- 选择排序方式
- 删除不需要的记录

### 4. 数据管理
- 导出数据为 CSV 文件
- 清空所有数据（谨慎操作）

## 📊 数据存储

- **存储格式**：Excel (.xlsx)
- **存储位置**：`data/account_records.xlsx`
- **数据字段**：
  - ID：记录唯一标识
  - 类型：收入/支出
  - 金额：数值
  - 分类：预设分类选项
  - 日期：记录时间
  - 备注：附加说明
  - 创建时间：系统记录时间

## 🛠️ 技术栈

- **前端框架**：Streamlit
- **数据处理**：Pandas
- **Excel操作**：openpyxl
- **图表可视化**：Plotly
- **数据存储**：Excel文件

## 📝 分类说明

### 支出分类
- 🍽️ 餐饮
- 🚗 交通
- 🛒 购物
- 🏠 住房
- 💊 医疗
- 🎮 娱乐
- 📚 教育
- 其他

### 收入分类
- 💼 工资
- 💹 投资
- 🎁 奖金
- 💸 其他收入

## 🔧 自定义配置

### 修改分类
在 `app.py` 文件中找到分类选择部分，可以添加或修改分类选项。

### 修改样式
在 `app.py` 文件顶部的 CSS 样式中修改界面外观。

### 修改数据存储
在 `src/data_manager.py` 中可以修改数据存储格式和位置。

## 📱 界面预览

- **主界面**：简洁的侧边栏导航
- **记账页面**：直观的表单输入
- **统计页面**：丰富的图表展示
- **记录页面**：清晰的数据表格
- **设置页面**：实用的管理功能

## 📱 微信浏览器支持

本应用已针对微信浏览器进行了全面优化，提供智能检测和用户友好的交互体验：

### ✨ 核心特性

- **🎯 智能检测**：只在微信浏览器中显示提示，不会在普通浏览器或小程序环境中干扰用户
- **👤 用户友好**：用户可以手动关闭提示，右上角有关闭按钮（×）
- **💾 记忆功能**：使用localStorage记住用户的选择，关闭后不再重复显示
- **✨ 动画效果**：平滑的滑入动画和脉动提醒，提升视觉体验
- **📱 响应式设计**：适配手机屏幕，在不同设备上都有良好的显示效果
- **🛡️ 小程序安全**：检测小程序环境，避免在小程序中显示不必要的提示

### 🔧 技术实现

- **检测机制**：通过User-Agent检测"MicroMessenger"标识
- **状态管理**：使用localStorage存储用户关闭状态
- **动画系统**：CSS3动画实现滑入效果和脉动提醒
- **环境识别**：区分微信浏览器、普通浏览器和小程序环境
- **响应式布局**：媒体查询适配不同屏幕尺寸

### 📋 使用说明

1. **自动检测**：在微信中打开应用链接，系统会自动检测环境
2. **智能提示**：只在微信浏览器中显示醒目的红色提示框
3. **用户控制**：点击右上角×按钮可以关闭提示
4. **记忆功能**：关闭后系统会记住选择，不再重复显示
5. **操作指导**：提示框中包含详细的操作步骤说明
6. **最佳体验**：建议按照提示切换到外部浏览器使用

### 🎨 视觉设计

- **渐变背景**：红色渐变背景突出警告信息
- **滑入动画**：从顶部滑入的平滑动画效果
- **脉动提醒**：轻微的缩放和阴影变化吸引注意
- **毛玻璃效果**：操作步骤区域使用半透明毛玻璃效果
- **响应式字体**：根据屏幕尺寸调整字体大小

## ⚠️ 注意事项

1. **数据备份**：建议定期备份 `data/account_records.xlsx` 文件
2. **数据安全**：数据存储在本地，请妥善保管
3. **版本兼容**：确保 Python 版本兼容性
4. **依赖更新**：定期更新依赖包以获得最新功能
5. **微信限制**：微信内置浏览器可能存在功能限制，建议使用外部浏览器

## 🐛 问题反馈

如果遇到问题，请检查：
1. Python 版本是否符合要求
2. 依赖包是否正确安装
3. 数据文件权限是否正确
4. 端口 8501 是否被占用

## 📄 许可证

本项目仅供个人使用，请勿用于商业用途。

---

**享受记账的乐趣！** 💰✨



